<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.PasswordField?>

<BorderPane prefHeight="786.0" prefWidth="1553.0" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/23.0.1" fx:controller="com.example.uts_pbo.ProfileController">
    <left>
        <VBox prefWidth="180.0" style="-fx-background-color: #59812a; -fx-padding: 20 0 0 0;">
            <Button fx:id="profileBtn" text="Profile" styleClass="nav-button" prefWidth="150.0" prefHeight="40.0" onAction="#handleNavigation" style="-fx-background-color: #1d4008; -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: #204200; -fx-border-width: 1px; -fx-border-radius: 60px; -fx-background-radius: 60px">
                <VBox.margin>
                    <Insets top="20.0" bottom="12.0" left="15.0" right="15.0" />
                </VBox.margin>
            </Button>
            <Button fx:id="cashierBtn" text="Cashier" styleClass="nav-button" prefWidth="150.0" prefHeight="40.0" onAction="#handleNavigation" style="-fx-background-color: none; -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: #204200; -fx-border-width: 1px; -fx-border-radius: 60px; -fx-background-radius: 60px">
                <VBox.margin>
                    <Insets top="10.0" bottom="12.0" left="15.0" right="15.0" />
                </VBox.margin>
            </Button>
            <Button fx:id="productsBtn" text="Products Management" styleClass="nav-button" prefWidth="150.0" prefHeight="40.0" onAction="#handleNavigation" style="-fx-background-color: none; -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: #204200; -fx-border-width: 1px; -fx-border-radius: 60px; -fx-background-radius: 60px">
                <VBox.margin>
                    <Insets top="10.0" bottom="12.0" left="15.0" right="15.0" />
                </VBox.margin>
            </Button>
            <Button fx:id="bundleproductsBtn" text="Bundle Products" styleClass="nav-button" prefWidth="150.0" prefHeight="40.0" onAction="#handleNavigation" style="-fx-background-color: none; -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: #204200; -fx-border-width: 1px; -fx-border-radius: 60px; -fx-background-radius: 60px">
                <VBox.margin>
                    <Insets top="10.0" bottom="12.0" left="15.0" right="15.0" />
                </VBox.margin>
            </Button>
            <Button fx:id="refundproductsBtn" text="Refund Products" styleClass="nav-button" prefWidth="150.0" prefHeight="40.0" onAction="#handleNavigation" style="-fx-background-color: none; -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: #204200; -fx-border-width: 1px; -fx-border-radius: 60px; -fx-background-radius: 60px">
                <VBox.margin>
                    <Insets top="10.0" bottom="12.0" left="15.0" right="15.0" />
                </VBox.margin>
            </Button>
            <Button fx:id="usersBtn" text="User Management" styleClass="nav-button" prefWidth="150.0" prefHeight="40.0" onAction="#handleNavigation" style="-fx-background-color: none; -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: #204200; -fx-border-width: 1px; -fx-border-radius: 60px">
                <VBox.margin>
                    <Insets top="10.0" bottom="12.0" left="15.0" right="15.0" />
                </VBox.margin>
            </Button>
            <Button fx:id="adminLogBtn" text="Admin Log" styleClass="nav-button" prefWidth="150.0" prefHeight="40.0" onAction="#handleNavigation" style="-fx-background-color: none; -fx-font-size: 14px; -fx-text-fill: white; -fx-font-weight: bold; -fx-border-color: #204200; -fx-border-width: 1px; -fx-border-radius: 60px">
                <VBox.margin>
                    <Insets top="10.0" bottom="12.0" left="15.0" right="15.0" />
                </VBox.margin>
            </Button>
        </VBox>
    </left>
    <top>
        <HBox alignment="CENTER" style="-fx-background-color: #1d4008;">
            <Label text="SimpleMart" style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold; -fx-font-style: italic;">
                <HBox.margin>
                    <Insets top="8.0" bottom="8.0" />
                </HBox.margin>
            </Label>
        </HBox>
    </top>
    <center>
        <ScrollPane fitToWidth="false" fitToHeight="true" style="-fx-background: #FFFEFB; -fx-background-color: #FFFEFB;">
            <VBox alignment="TOP_CENTER" spacing="20" style="-fx-background-color: #FFFEFB;">
                <padding>
                    <Insets top="30" right="50" bottom="30" left="50"/>
                </padding>

                <!-- TITLE -->
                <Label text="Profile Settings"
                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #1d4008;">
                    <VBox.margin>
                        <Insets bottom="30"/>
                    </VBox.margin>
                </Label>

                <!-- FORM GRID -->
                <GridPane hgap="20" vgap="18"
                          style="-fx-background-color: white; -fx-background-radius: 12px; -fx-border-color: #e0e0e0; -fx-border-width: 1px; -fx-border-radius: 12px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);"
                          maxWidth="900">
                    <padding>
                        <Insets top="30" right="40" bottom="30" left="40"/>
                    </padding>

                    <columnConstraints>
                        <ColumnConstraints percentWidth="35" minWidth="150"/>
                        <ColumnConstraints percentWidth="65" minWidth="200"/>
                    </columnConstraints>

                    <rowConstraints>
                        <RowConstraints minHeight="40" vgrow="SOMETIMES"/>
                        <RowConstraints minHeight="40" vgrow="SOMETIMES"/>
                        <RowConstraints minHeight="40" vgrow="SOMETIMES"/>
                        <RowConstraints minHeight="40" vgrow="SOMETIMES"/>
                        <RowConstraints minHeight="20" vgrow="SOMETIMES"/>
                        <RowConstraints minHeight="40" vgrow="SOMETIMES"/>
                        <RowConstraints minHeight="40" vgrow="SOMETIMES"/>
                        <RowConstraints minHeight="60" vgrow="SOMETIMES"/>
                    </rowConstraints>

                    <!-- First Name -->
                    <Label text="First Name:"
                           GridPane.rowIndex="0"
                           GridPane.columnIndex="0"
                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                    <TextField fx:id="firstNameField"
                               GridPane.rowIndex="0"
                               GridPane.columnIndex="1"
                               promptText="Enter your first name"
                               style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 6px; -fx-border-color: #ccc; -fx-border-radius: 6px; -fx-border-width: 1px;"/>

                    <!-- Last Name -->
                    <Label text="Last Name:"
                           GridPane.rowIndex="1"
                           GridPane.columnIndex="0"
                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                    <TextField fx:id="lastNameField"
                               GridPane.rowIndex="1"
                               GridPane.columnIndex="1"
                               promptText="Enter your last name"
                               style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 6px; -fx-border-color: #ccc; -fx-border-radius: 6px; -fx-border-width: 1px;"/>

                    <!-- Email -->
                    <Label text="Email:"
                           GridPane.rowIndex="2"
                           GridPane.columnIndex="0"
                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                    <TextField fx:id="emailField"
                               GridPane.rowIndex="2"
                               GridPane.columnIndex="1"
                               promptText="Enter your email"
                               style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 6px; -fx-border-color: #ccc; -fx-border-radius: 6px; -fx-border-width: 1px;"/>

                    <!-- Username -->
                    <Label text="Username:"
                           GridPane.rowIndex="3"
                           GridPane.columnIndex="0"
                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                    <TextField fx:id="usernameField"
                               GridPane.rowIndex="3"
                               GridPane.columnIndex="1"
                               promptText="Enter your username"
                               style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 6px; -fx-border-color: #ccc; -fx-border-radius: 6px; -fx-border-width: 1px;"/>

                    <!-- Separator -->
                    <Label text="Change Password"
                           GridPane.rowIndex="4"
                           GridPane.columnIndex="0"
                           GridPane.columnSpan="2"
                           style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #1d4008; -fx-padding: 20 0 10 0;"/>

                    <!-- New Password -->
                    <Label text="New Password:"
                           GridPane.rowIndex="5"
                           GridPane.columnIndex="0"
                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                    <PasswordField fx:id="newPasswordField"
                                   GridPane.rowIndex="5"
                                   GridPane.columnIndex="1"
                                   promptText="Enter new password"
                                   style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 6px; -fx-border-color: #ccc; -fx-border-radius: 6px; -fx-border-width: 1px;"/>

                    <!-- Confirm Password -->
                    <Label text="Confirm Password:"
                           GridPane.rowIndex="6"
                           GridPane.columnIndex="0"
                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #333;"/>
                    <PasswordField fx:id="confirmPasswordField"
                                   GridPane.rowIndex="6"
                                   GridPane.columnIndex="1"
                                   promptText="Confirm new password"
                                   style="-fx-font-size: 14px; -fx-padding: 10; -fx-background-radius: 6px; -fx-border-color: #ccc; -fx-border-radius: 6px; -fx-border-width: 1px;"/>

                    <!-- Action Buttons -->
                    <HBox spacing="15"
                          alignment="CENTER_RIGHT"
                          GridPane.rowIndex="7"
                          GridPane.columnIndex="0"
                          GridPane.columnSpan="2">
                        <padding>
                            <Insets top="20"/>
                        </padding>

                        <Button text="Update Profile"
                                onAction="#handleUpdateProfile"
                                prefWidth="140"
                                prefHeight="40"
                                style="-fx-background-color: #59812a; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 6px; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 5, 0, 0, 2);"/>

                        <Button text="Change Password"
                                onAction="#handleUpdatePassword"
                                prefWidth="150"
                                prefHeight="40"
                                style="-fx-background-color: #1d4008; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 6px; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 5, 0, 0, 2);"/>

                        <Button text="Delete Account"
                                onAction="#handleDeleteAccount"
                                prefWidth="140"
                                prefHeight="40"
                                style="-fx-background-color: #dc3545; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 6px; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 5, 0, 0, 2);"/>

                        <Button fx:id="logoutBtn"
                                text="Logout"
                                onAction="#handleLogout"
                                prefWidth="120"
                                prefHeight="40"
                                style="-fx-background-color: #4285F4; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 6px; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 5, 0, 0, 2);"/>
                    </HBox>
                </GridPane>

                <!-- Footer Info -->
                <Label text="Note: Password must be 6-20 characters with uppercase, lowercase, and digit."
                       style="-fx-font-size: 13px; -fx-text-fill: #666; -fx-font-style: italic;">
                    <VBox.margin>
                        <Insets top="25"/>
                    </VBox.margin>
                </Label>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>